<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>funcwc - DOM-Native SSR Components</title>
    <style>
      body {
        font-family:
          ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu,
          Cantarell, Noto Sans, Helvetica Neue, Arial;
        padding: 2rem;
        max-width: 800px;
        margin: 0 auto;
        line-height: 1.6;
      }

      section {
        margin-bottom: 2rem;
        padding: 1rem;
        border: 1px solid #eee;
        border-radius: 8px;
      }

      h2 {
        margin-top: 0;
        color: #333;
      }

      p {
        color: #666;
        margin-bottom: 1rem;
      }

      code {
        background: #f1f3f4;
        padding: 0.2rem 0.4rem;
        border-radius: 3px;
        font-family: "Monaco", "Menlo", monospace;
        font-size: 0.9em;
      }
    </style>
  </head>
  <body hx-ext="json-enc" hx-encoding="json">
    <script src="https://unpkg.com/htmx.org@2.0.6"></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/json-enc.js"></script>
    <!-- Hybrid Reactivity System State Manager -->
    <script>
      window.StateManager = {
        topics: new Map(),
        subscribers: new Map(),
        publish(topic, data) {
          const callbacks = this.subscribers.get(topic) || [];
          callbacks.forEach(({ callback, element }) => {
            if (document.contains(element)) callback(data);
            else this.unsubscribe(topic, callback, element);
          });
          this.topics.set(topic, data);
        },
        subscribe(topic, callback, element) {
          if (!this.subscribers.has(topic)) this.subscribers.set(topic, []);
          this.subscribers.get(topic).push({ callback, element });
          const currentData = this.topics.get(topic);
          if (currentData !== undefined) callback(currentData);
        },
        getState(topic) { return this.topics.get(topic); },
        unsubscribe(topic, callback, element) {
          const subs = this.subscribers.get(topic) || [];
          this.subscribers.set(topic, subs.filter(s => s.callback !== callback || s.element !== element));
        }
      };
    </script>
    <h1>funcwc - DOM-Native SSR Components</h1>
    <p style="color: #666; margin-bottom: 2rem">
      Clean <code>defineComponent</code> API with enhanced props, HTMX
      integration, DOM-as-state architecture, and <strong>Hybrid Reactivity System!</strong>
    </p>

    <div
      style="padding: 0.75rem 1rem; border: 1px solid #e2e8f0; background: #f8fafc; border-radius: 8px; margin-bottom: 1.25rem; color: #334155"
    >
      <strong>Note:</strong> All HTMX requests are JSON; responses are
      server-rendered HTML and swapped in place.
    </div>

    <section style="border: 1px solid #e2e8f0; background: #f8fafc">
      <h2>üé® Unified Styles</h2>
      <p style="color: #334155">
        Write CSS properties inline; class names are auto-generated. No
        selectors, no duplication.
      </p>
      <unified-card title="Unified Styles" highlighted></unified-card>
      <unified-card title="Simple Card"></unified-card>
    </section>

    <section>
      <h2>üé® Theme Toggle</h2>
      <p>Pure DOM state with CSS class manipulation. No JavaScript objects!</p>
      <theme-toggle></theme-toggle>
    </section>

    <section style="margin-top: 2rem">
      <h2>üî¢ Counter</h2>
      <p>
        Server-powered updates via HTMX (JSON in, HTML out). <strong
        >Function-style props + CSS-only format!</strong>
      </p>
      <counter step="3" initialCount="5"></counter>
    </section>

    <section style="margin-top: 2rem">
      <h2>‚úÖ Todo Item</h2>
      <p>
        Local UI state (checkbox) + Server persistence via HTMX. <strong
        >Function-style props + CSS-only format + API integration!</strong>
      </p>
      <todo-item
        id="1"
        text="Learn DOM-native development"
        done="false"
      ></todo-item>
      <todo-item
        id="2"
        text="Build awesome components"
        done="true"
      ></todo-item>
    </section>

    <section style="margin-top: 2rem">
      <h2>üìë Tabs</h2>
      <p>
        Loads tab content via API (HTMX). <strong>Function-style props +
          CSS-only styling magic!</strong>
      </p>
      <tabs tabs="Home,About,Settings,Contact" activeTab="Home"></tabs>
    </section>

    <section style="margin-top: 2rem">
      <h2>‚ù§Ô∏è Like Card</h2>
      <p>
        HTMX-powered server actions with function-style props. Toggle like and
        remove items.
      </p>
      <like-card id="101" title="First Item" liked="false"></like-card>
      <like-card id="102" title="Second Item" liked="true"></like-card>
    </section>

    <section style="margin-top: 2rem">
      <h2>üõí Cart Items</h2>
      <p>Simple cart item with server-powered quantity updates and actions.</p>
      <cart-item
        productId="123"
        name="Widget"
        quantity="2"
        price="19.99"
      ></cart-item>
      <cart-item
        productId="456"
        name="Gadget"
        quantity="1"
        price="29.99"
      ></cart-item>
    </section>

    <section
      style="margin-top: 2rem; border: 1px solid #e2e8f0; background: #f8fafc"
    >
      <h2>‚öôÔ∏è Function-Style Props</h2>
      <p style="color: #334155">
        Props are inferred from render parameters and defaults.
      </p>
      <function-style-card
        title="Typed + Inferred"
        count="100"
        enabled
      ></function-style-card>
    </section>

    <section style="margin-top: 3rem; border: 2px solid #10b981; background: #ecfdf5">
      <h1 style="color: #059669; margin-top: 0;">üöÄ Hybrid Reactivity System</h1>
      <p style="color: #065f46;">
        Three-tier client-side component communication: CSS properties for instant visual updates, 
        pub/sub for complex state management, and DOM events for component messaging.
      </p>
    </section>

    <section style="margin-top: 2rem; border: 1px solid #3b82f6; background: #eff6ff">
      <h2 style="color: #1d4ed8;">üé® Basic Reactivity Demo</h2>
      <p style="color: #1e40af;">
        Simple theme controller and reactive cards using CSS custom properties.
      </p>
      <theme-controller></theme-controller>
      <div style="display: flex; gap: 1rem; margin-top: 1rem;">
        <reactive-card title="Card 1"></reactive-card>
        <reactive-card title="Card 2"></reactive-card>
      </div>
    </section>

    <section style="margin-top: 2rem; border: 1px solid #f59e0b; background: #fffbeb">
      <h2 style="color: #d97706;">üöß More Reactive Features Coming Soon</h2>
      <p style="color: #92400e;">
        We're working on advanced reactive features including pub/sub state management, DOM event communication, and integrated dashboards. Stay tuned!
      </p>
    </section>

    <!-- No comparisons or code snippets below; just current usage examples. -->

    <!-- Components are server-rendered, no client-side script needed -->
  </body>
</html>
